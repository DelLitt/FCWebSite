!function(){"use strict";var e={enter:13,esc:27,left:37,right:39};angular.module("thatisuday.ng-image-gallery",["ngAnimate"]).directive("ngImageGallery",["$timeout","$document","$q",function(i,n,a){return{replace:!0,transclude:!1,restrict:"AE",scope:{images:"=",methods:"=?",thumbnails:"=?",inline:"=?",onOpen:"&?",onClose:"&?"},template:'<div class="ng-image-gallery" ng-class="{inline:inline}"><div ng-if="thumbnails && !inline" class="ng-image-gallery-thumbnails"><div class="thumb" ng-repeat="image in images" ng-click="methods.open($index);" style="background-image:url({{image.thumbUrl || image.url}});"></div></div><div class="ng-image-gallery-modal" ng-show="opened" ng-cloak><div class="ng-image-gallery-backdrop" ng-if="!inline"></div><div class="ng-image-gallery-content" ng-show="!imgLoading"><div class="close" ng-click="methods.close();" ng-if="!inline"></div><div class="prev" ng-click="methods.prev();"></div><div class="next" ng-click="methods.next();"></div><div class="galleria"><div class="galleria-images"><img ng-repeat="image in images" ng-if="activeImg == image" ng-src="{{image.url}}" /></div><div class="galleria-bubbles"><span ng-click="setActiveImg(image);" ng-repeat="image in images" ng-class="{active : (activeImg == image)}"></span></div></div></div><div class="ng-image-gallery-loader" ng-show="imgLoading"><div class="spinner"><div class="rect1"></div><div class="rect2"></div><div class="rect3"></div><div class="rect4"></div><div class="rect5"></div></div></div></div></div>',link:function(t,s,c){t.showLoader=function(){t.imgLoading=!0},t.hideLoader=function(){t.imgLoading=!1},t.loadImg=function(e){var i=a.defer();e.hasOwnProperty("cached")||t.showLoader();var n=new Image;return n.src=e.url,n.onload=function(){return e.hasOwnProperty("cached")||t.hideLoader(),e.hasOwnProperty("cached")||(e.cached=!0),i.resolve(e)},i.promise},t.setActiveImg=function(e){t.loadImg(e).then(function(e){t.activeImg=e})},t.images=t.images?t.images:[],t.methods=t.methods?t.methods:{},t.onOpen=t.onOpen?t.onOpen:angular.noop,t.onClose=t.onClose?t.onClose:angular.noop;var g=!0;t.$watch("images",function(){g?g=!1:t.images.length&&t.setActiveImg(t.images[t.activeImageIndex||0])});var o=!0;t.$watch("activeImageIndex",function(e){o?o=!1:t.images.length&&t.setActiveImg(t.images[e])}),t.$watch("inline",function(){i(function(){t.inline&&t.methods.open()})}),t.methods.open=function(e){t.activeImageIndex=e?e:0,t.opened=!0,i(function(){t.onOpen()},300)},t.methods.close=function(){t.opened=!1,i(function(){t.onClose(),t.activeImageIndex=0},300)},t.methods.next=function(){t.activeImageIndex==t.images.length-1?t.activeImageIndex=0:t.activeImageIndex=t.activeImageIndex+1},t.methods.prev=function(){0==t.activeImageIndex?t.activeImageIndex=t.images.length-1:t.activeImageIndex--},n.bind("keyup",function(n){t.inline||(n.which==e.right||n.which==e.enter?i(function(){t.methods.next()}):n.which==e.left?i(function(){t.methods.prev()}):n.which==e.esc&&i(function(){t.methods.close()}))})}}}])}();
//# sourceMappingURL=ng-image-gallery.min.js.map
